import cv2
import numpy as np

# Đọc hình ảnh (thay 'path_to_your_image.jpg' bằng đường dẫn đến hình ảnh của bạn)
image = cv2.imread('./test_images/3122.jpg')
# Danh sách các bounding boxes
boxes = [
    [
      [554.6666870117188, 40.0],
      [596.0, 40.0],
      [596.0, 68.0],
      [554.6666870117188, 68.0]
    ],
    [
      [526.6666870117188, 42.66666793823242],
      [553.3333129882812, 42.66666793823242],
      [553.3333129882812, 58.66666793823242],
      [526.6666870117188, 58.66666793823242]
    ],
    [
      [521.3333129882812, 62.66666793823242],
      [568.0, 62.66666793823242],
      [568.0, 76.0],
      [521.3333129882812, 76.0]
    ],
    [
      [4.0, 437.3333435058594],
      [36.0, 437.3333435058594],
      [36.0, 456.0],
      [4.0, 456.0]
    ],
    [
      [252.0, 437.3333435058594],
      [281.3333435058594, 437.3333435058594],
      [281.3333435058594, 456.0],
      [252.0, 456.0]
    ],
    [
      [281.3333435058594, 437.3332824707031],
      [348.0, 437.3332824707031],
      [348.0, 455.9999694824219],
      [281.3333435058594, 455.9999694824219]
    ],
    [
      [348.4706115722656, 435.2156982421875],
      [391.54833984375, 441.0899658203125],
      [388.7815856933594, 461.3793640136719],
      [345.703857421875, 455.5050964355469]
    ],
    [
      [461.3333435058594, 437.3333435058594],
      [493.3333435058594, 437.3333435058594],
      [493.3333435058594, 460.0],
      [461.3333435058594, 460.0]
    ],
    [
      [506.6666564941406, 437.3333435058594],
      [545.3333129882812, 437.3333435058594],
      [545.3333129882812, 457.3333435058594],
      [506.6666564941406, 457.3333435058594]
    ],
    [
      [621.3333129882812, 437.3333435058594],
      [638.6666870117188, 437.3333435058594],
      [638.6666870117188, 456.0],
      [621.3333129882812, 456.0]
    ],
    [
      [62.4854621887207, 435.5511169433594],
      [104.67073822021484, 441.3036193847656],
      [101.93645477294922, 461.35498046875],
      [59.75118637084961, 455.6024475097656]
    ],
    [
      [102.66666412353516, 438.6666564941406],
      [132.0, 438.6666564941406],
      [132.0, 456.0],
      [102.66666412353516, 456.0]
    ],
    [
      [209.3333282470703, 438.6666564941406],
      [252.0, 438.6666564941406],
      [252.0, 460.0],
      [209.3333282470703, 460.0]
    ],
    [
      [408.0, 438.6666564941406],
      [445.3333435058594, 438.6666564941406],
      [445.3333435058594, 456.0],
      [408.0, 456.0]
    ],
    [
      [576.0, 438.6666564941406],
      [598.6666870117188, 438.6666564941406],
      [598.6666870117188, 456.0],
      [576.0, 456.0]
    ],
    [
      [598.6666870117188, 438.6666564941406],
      [621.3333129882812, 438.6666564941406],
      [621.3333129882812, 458.6666564941406],
      [598.6666870117188, 458.6666564941406]
    ],
    [
      [389.3333435058594, 440.0],
      [406.6666564941406, 440.0],
      [406.6666564941406, 456.0],
      [389.3333435058594, 456.0]
    ],
    [
      [445.3333435058594, 440.0],
      [462.6666564941406, 440.0],
      [462.6666564941406, 457.3333435058594],
      [445.3333435058594, 457.3333435058594]
    ],
    [
      [544.0, 440.0],
      [574.6666870117188, 440.0],
      [574.6666870117188, 456.0],
      [544.0, 456.0]
    ],
    [
      [492.0, 441.3333435058594],
      [508.0, 441.3333435058594],
      [508.0, 454.6666564941406],
      [492.0, 454.6666564941406]
    ],
    [
      [37.33333206176758, 442.6666564941406],
      [60.0, 442.6666564941406],
      [60.0, 458.6666564941406],
      [37.33333206176758, 458.6666564941406]
    ]
  ]
# Chuyển đổi các bounding boxes thành kiểu int
for box in boxes:
    box = np.array(box, dtype=np.int32)  # Chuyển đổi sang kiểu int
    cv2.polylines(image, [box], isClosed=True, color=(0, 255, 0), thickness=2)  # Vẽ bounding box

# Hiển thị hình ảnh
cv2.imshow('Image with Bounding Boxes', image)
cv2.waitKey(0)
cv2.destroyAllWindows()
